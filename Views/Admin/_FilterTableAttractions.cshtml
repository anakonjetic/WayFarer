@model IEnumerable<WayFarer.Model.Attraction>

@foreach (var attraction in Model)
{
    <tr>
        <td onclick="window.location.href='@Url.Action("ManageAttractionsDetails", "Admin", new { id = attraction.Id })'">@attraction.Name</td>
        <td>@attraction.Category</td>
        <td>@attraction.Price</td>
        <td>@(attraction.Reviews?.Average(r => r.Rating) ?? 0)</td>
        <td>@attraction.City?.Name</td>
        <td>
            <button onclick="window.location.href='@Url.Action("ManageAttractionsEdit", "Admin", new { id = attraction.Id })'">Edit</button>
            <form asp-action="ManageAttractionsDelete" asp-controller="Admin" method="post" style="display:inline;">
                <input type="hidden" name="id" value="@attraction.Id" />
                <button type="submit" onclick="return confirm('Are you sure you want to delete this attraction?');">Delete</button>
            </form>
        </td>
    </tr>
}

