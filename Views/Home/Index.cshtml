@model WayFarer.Controllers.HomePageViewModel

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WayFarer - Home</title>
    <link rel="stylesheet" href="~/css/indexStyle.css">
</head>
<body>

    <!-- My Itineraries Section -->
    <section id="itinerari" class="section">
        <h2>My Itineraries <button class="btn" onclick="kreirajItinerar()">+ New Itinerary </button></h2>
        <div class="scroll-container">
            <button class="scroll-btn left" onclick="scrollLeft('itinerary-scroll')">&lt;</button>
            <div id="itinerary-scroll" class="scroll-content">
                @if (Model.Itineraries == null || !Model.Itineraries.Any())
                {
                    <div class="itinerary-card empty-card">
                        <h3>No itineraries available</h3>
                        <p>Please create a new itinerary to get started.</p>
                    </div>
                }
                else
                {
                    @foreach (var item in Model.Itineraries.OrderBy(i => i.StartDate))
                    {
                        <a href="/Itinerary/Details/@item.Id" class="itinerary-link">
                            <div class="itinerary-card">
                                <div class="image-container">
                                    <img src="@item.City.Image" alt="@item.City.Name">
                                </div>
                                <div class="card-info">
                                    <h3>@item.City.Name</h3>
                                    <p><strong>Dates:</strong> @item.StartDate.ToString("dd.MM.yyyy.") - @item.EndDate.ToString("dd.MM.yyyy.")</p>
                                    <p><strong>Budget:</strong> @item.TotalPrice€</p>
                                </div>
                            </div>
                        </a>
                    }
                }
            </div>
            <button class="scroll-btn right" onclick="scrollRight('itinerary-scroll')">&gt;</button>
        </div>
    </section>

    <!-- Cities Section -->
    <section id="gradovi" class="section">
        <h2>Cities</h2>
        <div class="scroll-container">
            <button class="scroll-btn left" onclick="scrollLeft('city-scroll')">&lt;</button>
            <div id="city-scroll" class="scroll-content">
                @foreach (var item in Model.Cities.Take(100))
                {
                    <a href="/City/Details/@item.Id" class="city-link">
                        <div class="city-card">
                            <div class="city-image-container">
                                <img src="@item.Image" alt="@item.Name">
                            </div>
                            <div class="city-info">
                                <h3>@item.Name</h3>
                                <p>@item.Description</p>
                            </div>
                        </div>
                    </a>
                }
            </div>
            <button class="scroll-btn right" onclick="scrollRight('city-scroll')">&gt;</button>
        </div>
    </section>

    <script>
        // Scroll content left
        function scrollLeft(containerId) {
            const container = document.getElementById(containerId);
            container.scrollBy({ left: -300, behavior: 'smooth' });
        }

        // Scroll content right
        function scrollRight(containerId) {
            const container = document.getElementById(containerId);
            container.scrollBy({ left: 300, behavior: 'smooth' });
        }

        // Function for creating new itinerary
        function kreirajItinerar() {
            window.location.href = "/Itinerary/Create";
        }
    </script>

</body>
</html>
